<div id="main-calculs">
  <section>
    <h2>Réaction</h2>
    <div class="section-box">
      <datalist id="datalist-molecules"></datalist>
      <datalist id="datalist-activations"></datalist>

      <div class="schema-reaction"><canvas id="canvas-reaction"></canvas></div>

      <div class="forms-container">
        <div id="container-reaction-principale">
          <h3>Réaction principale</h3>
          <!-- Réactif -->
          <form id="form-reactif-reaction-principale">
            <div>
              <label for="coefStoechiometrique">Coefficient stœchiométrique</label>
              <input type="number" id="coefStoechiometrique" name="coefStoechiometrique" value="1" />
            </div>

            <div>
              <label for="molecule">Molécule</label>
              <input list="datalist-molecules" autocomplete="off" id="molecule" name="molecule"
                placeholder="Recherche réactif" />
            </div>

            <div>
              <label for="purete">Pureté (%)</label>
              <input type="number" id="purete" name="purete" placeholder="Pureté (%)" />
            </div>

            <div>
              <label for="volume">Volume (mL)</label>
              <input type="number" id="volume" name="volume" placeholder="Volume (mL)" />
            </div>

            <div>
              <label for="prixG">Prix/g (€)</label>
              <input type="number" id="prixG" name="prixG" placeholder="Prix/g (€)" />
            </div>

            <input type="submit" value="Ajouter" />
          </form>

          <!-- Catalyseur -->
          <form id="form-catalyseur-reaction-principale">
            <div>
              <label for="molecule">Recherche catalyseur</label>
              <input list="datalist-molecules" autocomplete="off" id="molecule" name="molecule"
                placeholder="Recherche catalyseur" />
            </div>

            <div>
              <label for="purete">Pureté (%)</label>
              <input type="number" id="purete" name="purete" placeholder="Pureté (%)" />
            </div>

            <div>
              <label for="volume">Volume (mL)</label>
              <input type="number" id="volume" name="volume" placeholder="Volume (mL)" />
            </div>

            <div>
              <label for="prixG">Prix/g (€)</label>
              <input type="number" id="prixG" name="prixG" placeholder="Prix/g (€)" />
            </div>

            <div>
              <label for="recyclabilite">Recyclabilité (%)</label>
              <input type="number" id="recyclabilite" name="recyclabilite" placeholder="Recyclabilité (%)" />
            </div>

            <input type="submit" value="Ajouter" />
          </form>

          <!-- Solvant -->
          <form id="form-solvant-reaction-principale">
            <div>
              <label for="molecule">Recherche solvant</label>
              <input list="datalist-molecules" autocomplete="off" id="molecule" name="molecule"
                placeholder="Recherche solvant" />
            </div>

            <div>
              <label for="purete">Pureté (%)</label>
              <input type="number" id="purete" name="purete" placeholder="Pureté (%)" />
            </div>

            <div>
              <label for="volume">Volume (mL)</label>
              <input type="number" id="volume" name="volume" placeholder="Volume (mL)" />
            </div>

            <div>
              <label for="prixG">Prix/g (€)</label>
              <input type="number" id="prixG" name="prixG" placeholder="Prix/g (€)" />
            </div>

            <div>
              <label for="recyclabilite">Recyclabilité (%)</label>
              <input type="number" id="recyclabilite" name="recyclabilite" placeholder="Recyclabilité (%)" />
            </div>

            <input type="submit" value="Ajouter" />
          </form>

          <!-- Activation -->
          <form id="form-activation-reaction-principale">
            <div>
              <label for="activationNom">Recherche activation</label>
              <input list="datalist-activations" autocomplete="off" id="activationNom" name="activationNom"
                placeholder="Recherche activations" />
            </div>

            <div>
              <label for="activationDuree">Durée (min)</label>
              <input type="number" id="activationDuree" name="activationDuree" placeholder="Durée (min)" />
            </div>

            <div>
              <label for="activationPuissance">Puissance (W)</label>
              <input type="number" id="activationPuissance" name="activationPuissance" placeholder="Puissance (W)" />
            </div>

            <div>
              <label for="prixEnergie"> Prix du kWh (€)</label>
              <input type="number" name="prixEnergie" id="prixEnergie" step=".001" placeholder="Énergie (kWh)" />
              <!-- <label for="activationEnergie">Énergie (kWh)</label>
            <input type="number" id="activationEnergie" name="activationEnergie" placeholder="Énergie (kWh)"> -->
            </div>

            <input type="submit" value="Ajouter" />
          </form>
        </div>
        <div id="container-post-traitement">
          <h3>Traitement post-réactionnel</h3>
          <form id="form-reactif-post-traitement">
            <div>
              <label for="coefStoechiometrique">Coefficient stœchiométrique</label>
              <input type="number" id="coefStoechiometrique" name="coefStoechiometrique" value="1" />
            </div>

            <div>
              <label for="molecule">Molécule</label>
              <input list="datalist-molecules" autocomplete="off" id="molecule" name="molecule"
                placeholder="Recherche réactif" />
            </div>

            <div>
              <label for="purete">Pureté (%)</label>
              <input type="number" id="purete" name="purete" placeholder="Pureté (%)" />
            </div>

            <div>
              <label for="volume">Volume (mL)</label>
              <input type="number" id="volume" name="volume" placeholder="Volume (mL)" />
            </div>

            <div>
              <label for="prixG">Prix/g (€)</label>
              <input type="number" id="prixG" name="prixG" placeholder="Prix/g (€)" step=".001" />
            </div>

            <div>
              <label for="recyclabilite">Recyclabilité (%)</label>
              <input type="number" id="recyclabilite" name="recyclabilite" placeholder="Recyclabilité (%)" />
            </div>

            <input type="submit" value="Ajouter" />
          </form>

          <form id="form-activation-post-traitement">
            <div>
              <label for="activationNom">Recherche activation</label>
              <input list="datalist-activations" autocomplete="off" id="activationNom" name="activationNom"
                placeholder="Recherche activations" />
            </div>

            <div>
              <label for="activationDuree">Durée (min)</label>
              <input type="number" id="activationDuree" name="activationDuree" placeholder="Durée (min)" />
            </div>

            <div>
              <label for="activationPuissance">Puissance (W)</label>
              <input type="number" id="activationPuissance" name="activationPuissance" placeholder="Puissance (W)" />
            </div>

            <div>
              <label for="prixEnergie"> Prix du kWh (€)</label>
              <input type="number" name="prixEnergie" id="prixEnergie" step=".001" placeholder="Énergie (kWh)" />
              <!-- <label for="activationEnergie">Énergie (kWh)</label>
            <input type="number" id="activationEnergie" name="activationEnergie" placeholder="Énergie (kWh)"> -->
            </div>

            <input type="submit" value="Ajouter" />
          </form>
        </div>
        <div id="container-purification">
          <h3>Purification</h3>
          <form id="form-reactif-purification">
            <div>
              <label for="coefStoechiometrique">Coefficient stœchiométrique</label>
              <input type="number" id="coefStoechiometrique" name="coefStoechiometrique" value="1" />
            </div>

            <div>
              <label for="molecule">Molécule</label>
              <input list="datalist-molecules" autocomplete="off" id="molecule" name="molecule"
                placeholder="Recherche réactif" />
            </div>

            <div>
              <label for="purete">Pureté (%)</label>
              <input type="number" id="purete" name="purete" placeholder="Pureté (%)" />
            </div>

            <div>
              <label for="volume">Volume (mL)</label>
              <input type="number" id="volume" name="volume" placeholder="Volume (mL)" />
            </div>

            <div>
              <label for="prixG">Prix/g (€)</label>
              <input type="number" id="prixG" name="prixG" placeholder="Prix/g (€)" />
            </div>

            <div>
              <label for="recyclabilite">Recyclabilité (%)</label>
              <input type="number" id="recyclabilite" name="recyclabilite" placeholder="Recyclabilité (%)" />
            </div>

            <input type="submit" value="Ajouter" />
          </form>

          <form id="form-activation-purification">
            <div>
              <label for="activationNom">Recherche activation</label>
              <input list="datalist-activations" autocomplete="off" id="activationNom" name="activationNom"
                placeholder="Recherche activations" />
            </div>

            <div>
              <label for="activationDuree">Durée (min)</label>
              <input type="number" id="activationDuree" name="activationDuree" placeholder="Durée (min)" />
            </div>

            <div>
              <label for="activationPuissance">Puissance (W)</label>
              <input type="number" id="activationPuissance" name="activationPuissance" placeholder="Puissance (W)" />
            </div>

            <div>
              <label for="prixEnergie"> Prix du kWh (€)</label>
              <input type="number" name="prixEnergie" id="prixEnergie" step=".001" placeholder="Énergie (kWh)" />
              <!-- <label for="activationEnergie">Énergie (kWh)</label>
            <input type="number" id="activationEnergie" name="activationEnergie" placeholder="Énergie (kWh)"> -->
            </div>

            <input type="submit" value="Ajouter" />
          </form>
        </div>
        <div id="container-produit">
          <h3>Produit</h3>
          <form id="form-produit">
            <div>
              <label for="coefStoechiometrique">Coefficient stœchiométrique</label>
              <input type="number" id="coefStoechiometrique" name="coefStoechiometrique" value="1" />
            </div>

            <div>
              <label for="molecule">Molécule</label>
              <input list="datalist-molecules" autocomplete="off" id="molecule" name="molecule"
                placeholder="Recherche réactif" />
            </div>

            <div>
              <label for="purete">Pureté (%)</label>
              <input type="number" id="purete" name="purete" placeholder="Pureté (%)" />
            </div>

            <div>
              <label for="volume">Volume (mL)</label>
              <input type="number" id="volume" name="volume" placeholder="Volume (mL)" />
            </div>

            <div>
              <label for="prixG">Prix/g (€)</label>
              <input type="number" id="prixG" name="prixG" placeholder="Prix/g (€)" step=".001" />
            </div>

            <input type="submit" value="Ajouter" />
          </form>
        </div>
      </div>
      <form id="form-reaction">
        <input type="submit" value="Calculer" />
      </form>
    </div>
  </section>
  <section id="section-resultat">
    <h1 id="h2-resultat">Résultat</h1>
    <div class="section-box">
      <div class="layout-container" id="capture-zone">
        <!-- Tableau dynamique -->
        <div class="table-container">
          <table id="tableau-reaction">
            <!-- Ce contenu sera injecté par le JS -->
          </table>
        </div>

        <!-- Graphiques -->
        <div class="charts-container">
          <div class="chart-row">
            <canvas id="radar-chart-principale" width="280" height="400"></canvas>
            <canvas id="radar-chart-complete" width="280" height="400"></canvas>
          </div>
          <div class="chart-row">
            <canvas id="bar-chart-principale" width="280" height="400"></canvas>
            <canvas id="bar-chart-complete" width="280" height="400"></canvas>
          </div>
        </div>
      </div>
      <div id="export-btns">
      <button id="imprimer-btn" class="add-btn">Imprimer les résultats en pdf</button>
      <button id="export-donnees-btn" class="add-btn">Sauvegarder les données en JSON</button></div>
    </div>
  </section>
</div>

<style>
  #export-btns {
    padding: 2em;
    display: flex;
    width: 100;
    justify-content: space-around;
  }


  /* === TABLEAU & GRAPHIQUES === */
  .layout-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: flex-start;
    gap: 2rem;
  }

  .table-container {
    flex: 1 1 350px;
    max-width: 500px;
    min-width: 300px;
  }

  .charts-container {
    flex: 2 1 600px;
    min-width: 300px;
  }

  .chart-row {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-bottom: 30px;
  }

  #tableau-reaction {
    border-collapse: collapse;
    width: 100%;
    background-color: #f7f2fc;
    border-radius: 12px;
    overflow: hidden;
    font-family: "Segoe UI", sans-serif;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  }

  #tableau-reaction th,
  #tableau-reaction td {
    padding: 12px 16px;
    text-align: center;
    border-bottom: 1px solid #ddd;
    font-size: 0.95rem;
  }

  #tableau-reaction th {
    background-color: #e0d4f7;
    font-weight: bold;
    color: #333;
  }

  #tableau-reaction tr:last-child {
    font-weight: bold;
    background-color: #ede3fa;
    color: #5a2ea0;
  }

  #tableau-reaction tr:hover:not(:last-child) {
    background-color: #f0eaff;
  }

/* === IMPRESSION === */
@media print {
  body * {
    display: none !important;
  }
  #export-print-zone, #export-print-zone * {
    display: block !important;
    position: static !important;
    color: #000 !important;
    background: #fff !important;
    box-shadow: none !important;
  }
}

  /* === RESPONSIVE POUR PETITS ÉCRANS === */
  @media (max-width: 900px) {
    .layout-container {
      flex-direction: column;
      align-items: center;
    }

    .charts-container {
      width: 100%;
    }

    .chart-row {
      flex-direction: row;
      flex-wrap: wrap;
      justify-content: center;
    }
  }
</style>