<div id="main-calculs">
    <h2 id="h2-reaction">Réaction</h2>
    <div class="section-box">

      <div class="schema-reaction">[...]</div>
      <div class="forms-container">
        <div class="form-gauche">
            <div class="form-content">
              <!-- Réactif -->
              <div class="form-row-reactif">
                <input class="quantite-valeur" type="number" value="1">
              
                <div class="select-container">
                  <input list="liste-reactifs" id="input-reactif" placeholder="Recherche réactif">
                  <datalist id="liste-reactifs"></datalist>
                </div>

                <input class="purete-valeur" type="number" placeholder="Pureté (%)">
                <input class="volume-valeur" type="number" placeholder="Volume (mL)">
                <input class="prix-valeur" type="number" placeholder="Prix/g (€)">
              
                <button class="btn-ajouter">+</button>
              </div>

                <!-- Catalyseur -->
                <div class="form-row-catalyseur">
                  <div class="select-container">
                    <input list="liste-catalyseur" id="input-reactif" placeholder="Recherche catalyseur">
                    <datalist id="liste-catalyseur"></datalist>
                  </div>

                  <input class="purete-valeur" type="number" placeholder="Pureté (%)">
                  <input class="volume-valeur" type="number" placeholder="Volume (mL)">
                  <input class="prix-valeur" type="number" placeholder="Prix/g (€)">

                  <button class="btn-ajouter">+</button>
                </div>

                <!-- Solvant -->
                <div class="form-row-solvant">
                  <div class="select-container">
                    <input list="liste-solvant" id="input-reactif" placeholder="Recherche solvant">
                    <datalist id="liste-solvant"></datalist>
                  </div>

                  <input class="purete-valeur" type="number" placeholder="Pureté (%)">
                  <input class="volume-valeur" type="number" placeholder="Volume (mL)">
                  <input class="prix-valeur" type="number" placeholder="Prix/g (€)">

                  <button class="btn-ajouter">+</button>
                </div>

                <!-- Activation -->
                <div class="form-row-activation">
                  <div class="select-container">
                    <input list="liste-activations" id="input-reactif" placeholder="Recherche activations">
                    <datalist id="liste-activations"></datalist>
                  </div>

                  <input class="duree-valeur" type="number" placeholder="Durée (min)">
                  <input class="puissance-valeur" type="number" placeholder="Puissance (W)">
                  <input class="energie-valeur" type="number" placeholder="Energie (Kw/h)">

                  <button class="btn-ajouter">+</button>
                </div>
              </div>
        </div>     
        <div class="form-droite">
          <div class="bloc-traitement">
            <h3>Traitement post-réactionnel</h3>
          </div>
          <div class="bloc-purification">
            <h3>Purification</h3>
          </div>
        </div>
      </div>
    </div>
  
    <h2 id="h2-resultat">Résultat</h2>
    <div class="section-box">
      <!-- ici les graphs, bilans, etc. -->
    </div>
  </div>
  
<style>
.section-box {
  background-color: var(--black-purple); /* Violet à 17% */
  border: 0.2vh solid var(--purple);
  border-radius: 1.5vh;
  padding: 2vh 1vw 2vh 1vw;
  margin-bottom: 0.8vh;
  box-shadow: 0 0.4vh 1vh var(--box-shadow);
}

.schema-reaction {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: var(--white);
  padding: 6.5vh 2vw;
  border-radius: 1.5vh;
  box-shadow: 0 0.4vh 1vh var(--box-shadow);
  margin-bottom: 1.8vh;
  gap: 2vw;
  position: relative;
}

.field {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.field label {
  font-size: 1.8vh;
  font-weight: bold;
  margin-bottom: 0.3vh;
}

.field input {
  width: 5vw;
  padding: 0.5vh;
  font-size: 1.5vh;
  border: 0.1vh solid #333;
  border-radius: 0.5vh;
  text-align: center;
}    

/* Infos : %, Vol, € */
.info-fields {
display: flex;
align-items: flex-end;
padding-bottom: 1.8rem;
gap: 1vw;
}

.suggestions div {
  padding: 0.5vh 1vh;
  border-top: 0.1vh solid #eee;
  cursor: pointer;
}

.suggestions div:hover {
  background-color: #f0f0f0;
}

.quantite-valeur {
  margin: 0.5vh 0;
  padding-left: 0.25rem;
  font-weight: bold;
}

.forms-container {
  display: flex;
  flex-wrap: wrap;
  background-color: rgba(119, 93, 166, 0.17);
  border-radius: 12px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  position: relative;
  border: #775DA6 solid 2px;
  align-items: stretch;
}

.form-gauche {
  background-color: rgba(119, 93, 166, 0.17);
  border-radius: 1.2vh;
  padding: 0vh 2vw;
  border: 0.1vh solid #bbb;
  height: 25vh;
  overflow: visible !important;
}

.form-droite {
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 2.1vh;
  flex: 0 0 25vw;
  padding-right: 1.25vw;
  overflow: visible !important;
}

.bloc-traitement,
.bloc-purification {
  background-color: white;
  border: 0.2vh solid #775DA6;
  border-radius: 1vh;
  padding: 0.25vh 1vw;
  height: 10vh;
  display: flex;
  flex-direction: column;
  align-items: center;         /* Centrage horizontal */
  text-align: center;
  font-size: 1.3vh;
  box-shadow: 0 0.2vh 0.5vh rgba(0, 0, 0, 0.1);
}

.form-content {
  display: flex;
  flex-direction: column;
  gap: 1.5vh;
}

.form-row {
  display: flex;
  align-items: center;
  gap: 2vw;
}

/* Input quantité compact (réactif uniquement) */
.form-row-reactif .quantite-valeur {
  width: 4vh;
  text-align: center;
  font-size: 1.5vh;
  padding: 0.3vh;
  border-radius: 0.5vh;
}

/* Cache le bloc quantité pour les autres types */
.form-row-catalyseur .quantite-controls-catalyseur,
.form-row-solvant, .form-row-activation, .quantite-controls-solvant {
  display: none;
}

/* Input de recherche taille moyenne */
.select-container input {
  width: 20vw;
  font-size: 1.5vh;
  padding: 0.5vh 1vh;
  border-radius: 0.5vh;
  border: 0.1vh solid #ccc;
}

/* Bouton + bien aligné */
.btn-ajouter {
  background: none;
  border: none;
  font-size: 2vh;
  cursor: pointer;
  color: #2b964a;
  padding: 0 0.5vh;
}

.select-container {
  flex-grow: 1;
  position: relative;
  display: flex;
}

.suggestions {
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 1000; /* très haut pour être sûr */
  background-color: white;
  border: 0.1vh solid #ccc;
  border-radius: 0 0 0.5vh 0.5vh;
  box-shadow: 0 0.4vh 1vh rgba(0, 0, 0, 0.1);
  max-height: 20vh;
  overflow-y: auto;
  width: 100%;
}

/* TRÈS IMPORTANT : forcer les autres lignes à avoir un z-index plus bas */
.form-row-reactif,
.form-row-catalyseur,
.form-row-solvant,
.form-row-activation {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 1vh;
  margin-bottom: 1vh;
}

.form-row-reactif .quantite-valeur {
  width: 4vh;
  font-size: 1.5vh;
  text-align: center;
  padding: 0.3vh;
  border-radius: 0.5vh;
  border: 0.1vh solid #ccc;
  font-weight: bold;
}

.purete-valeur,
.volume-valeur,
.prix-valeur{
  width: 5.5vw;             /* plus petit que les champs texte */
  font-size: 1.4vh;
  padding: 0.5vh 0.8vw;
  border-radius: 0.5vh;
  border: 0.1vh solid #ccc;
  text-align: center;
}

.duree-valeur,
.puissance-valeur,
.energie-valeur {
  width: 6vw;             /* plus petit que les champs texte */
  font-size: 1.4vh;
  padding: 0.5vh 0.8vw;
  border-radius: 0.5vh;
  border: 0.1vh solid #ccc;
  text-align: center;
}

</style>